<!DOCTYPE html>

<html lang="en">
<head><meta charset="utf-8"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="jupyter_style.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>AB_Testing</title><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>

<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML-full,Safe"> </script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
    init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: {
                    automatic: true
                    }
                }
            });

            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
    </script>
<!-- End of mathjax configuration --><script type="module">
  document.addEventListener("DOMContentLoaded", async () => {
    const diagrams = document.querySelectorAll(".jp-Mermaid > pre.mermaid");
    // do not load mermaidjs if not needed
    if (!diagrams.length) {
      return;
    }
    const mermaid = (await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.0/mermaid.esm.min.mjs")).default;
    const parser = new DOMParser();

    mermaid.initialize({
      maxTextSize: 100000,
      startOnLoad: false,
      fontFamily: window
        .getComputedStyle(document.body)
        .getPropertyValue("--jp-ui-font-family"),
      theme: document.querySelector("body[data-jp-theme-light='true']")
        ? "default"
        : "dark",
    });

    let _nextMermaidId = 0;

    function makeMermaidImage(svg) {
      const img = document.createElement("img");
      const doc = parser.parseFromString(svg, "image/svg+xml");
      const svgEl = doc.querySelector("svg");
      const { maxWidth } = svgEl?.style || {};
      const firstTitle = doc.querySelector("title");
      const firstDesc = doc.querySelector("desc");

      img.setAttribute("src", `data:image/svg+xml,${encodeURIComponent(svg)}`);
      if (maxWidth) {
        img.width = parseInt(maxWidth);
      }
      if (firstTitle) {
        img.setAttribute("alt", firstTitle.textContent);
      }
      if (firstDesc) {
        const caption = document.createElement("figcaption");
        caption.className = "sr-only";
        caption.textContent = firstDesc.textContent;
        return [img, caption];
      }
      return [img];
    }

    async function makeMermaidError(text) {
      let errorMessage = "";
      try {
        await mermaid.parse(text);
      } catch (err) {
        errorMessage = `${err}`;
      }

      const result = document.createElement("details");
      result.className = 'jp-RenderedMermaid-Details';
      const summary = document.createElement("summary");
      summary.className = 'jp-RenderedMermaid-Summary';
      const pre = document.createElement("pre");
      const code = document.createElement("code");
      code.innerText = text;
      pre.appendChild(code);
      summary.appendChild(pre);
      result.appendChild(summary);

      const warning = document.createElement("pre");
      warning.innerText = errorMessage;
      result.appendChild(warning);
      return [result];
    }

    async function renderOneMarmaid(src) {
      const id = `jp-mermaid-${_nextMermaidId++}`;
      const parent = src.parentNode;
      let raw = src.textContent.trim();
      const el = document.createElement("div");
      el.style.visibility = "hidden";
      document.body.appendChild(el);
      let results = null;
      let output = null;
      try {
        const { svg } = await mermaid.render(id, raw, el);
        results = makeMermaidImage(svg);
        output = document.createElement("figure");
        results.map(output.appendChild, output);
      } catch (err) {
        parent.classList.add("jp-mod-warning");
        results = await makeMermaidError(raw);
        output = results[0];
      } finally {
        el.remove();
      }
      parent.classList.add("jp-RenderedMermaid");
      parent.appendChild(output);
    }

    void Promise.all([...diagrams].map(renderOneMarmaid));
  });
</script>

<!-- End of mermaid configuration --></head>
<body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light">

  <!-- NAVBAR -->
   <nav class="navbar navbar-expand navbar-dark bg-success">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        Michael Roche
      </a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <!--NAVBAR LINKS-->
        <li class="nav-item">
          <a class="nav-link" href="https://www.linkedin.com/in/michael-roche-4877a14a?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3BIwCtmA8zRSKV4Uw4yHwdsA%3D%3D">Contact</a>
        </li>

        <!--DROPDOWN-->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown role="button" data-bs-toggle="dropdown">
            Udacity Homework
          </a>

          <!--DROPDOWN OPTIONS-->
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="investigate_dataset.html">
                Investigate a Dataset with Pandas
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="AB_Testing.html">
                  AB Testing and Regression
              </a>
          </li>
          <li>
            <a class="dropdown-item" href="Data_Wrangling.html">
                Wrangle Data
            </a>
          </li>
          </ul>
        </li>
      </ul>
    </div>
   </nav>
<main>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h1 id="Analyze-A/B-Test-Results">Analyze A/B Test Results<a class="anchor-link" href="#Analyze-A/B-Test-Results">¶</a></h1><p>The following are excerpts of a guided assignment I completed for a Udacity class. The process, layout, and much of the commentary are not my own; they are the work of Udacity instructors. While much of it is not my work, the calculations are my own. I'm publishing this project both as a reference for future projects and as a demonstration of my experience completing A/B testing.</p>
<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#probability">Part I - Probability</a></li>
<li><a href="#ab_test">Part II - A/B Test</a></li>
<li><a href="#regression">Part III - Regression</a></li>
<li><a href="#finalcheck">Final Check</a></li>
<li><a href="#submission">Submission</a></li>
</ul>
<p><a id="intro"></a></p>
<h2 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h2><p><a id="probability"></a></p>
<h2 id="Part-I---Probability">Part I - Probability<a class="anchor-link" href="#Part-I---Probability">¶</a></h2><p>To get started, let's import our libraries.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [1]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#We are setting the seed to assure you get the same answers on quizzes as we set up</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">mode</span><span class="o">.</span><span class="n">chained_assignment</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># default='warn' #suppress settingwithcopywarning messages</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="ToDo-1.1">ToDo 1.1<a class="anchor-link" href="#ToDo-1.1">¶</a></h3><p><strong>a.</strong> Read in the dataset from the <code>ab_data.csv</code> file and take a look at the top few rows here:</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [2]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'ab_data.csv'</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[2]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>851104</td>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>804228</td>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>661590</td>
<td>2017-01-11 16:55:06.154213</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
</tr>
<tr>
<th>3</th>
<td>853541</td>
<td>2017-01-08 18:28:03.143765</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
</tr>
<tr>
<th>4</th>
<td>864975</td>
<td>2017-01-21 01:52:26.210827</td>
<td>control</td>
<td>old_page</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="ToDo-1.2">ToDo 1.2<a class="anchor-link" href="#ToDo-1.2">¶</a></h3><p><strong>a.</strong> Now use the answer to the quiz to create a new dataset that meets the specifications from the quiz.  Store your new dataframe in <strong>df2</strong>.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [3]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Remove the inaccurate rows, and store the result in a new dataframe df2</span>
<span class="c1"># Instead, this operation copies the accurate rows into df2.</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[((</span><span class="n">df</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"control"</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"landing_page"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"old_page"</span><span class="p">))</span> <span class="o">|</span>
           <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"treatment"</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">"landing_page"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"new_page"</span><span class="p">))]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [4]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Double Check all of the incorrect rows were removed from df2 - </span>
<span class="c1"># Output of the statement below should be 0</span>
<span class="n">df2</span><span class="p">[((</span><span class="n">df2</span><span class="p">[</span><span class="s1">'group'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">'landing_page'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'new_page'</span><span class="p">))</span> <span class="o">==</span> <span class="kc">False</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[4]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="ToDo-1.3">ToDo 1.3<a class="anchor-link" href="#ToDo-1.3">¶</a></h3><p>Use <strong>df2</strong> and the cells below to answer questions for <strong>Quiz 3</strong> in the classroom.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>c.</strong> Display the rows for the duplicate <strong>user_id</strong>?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [5]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s1">'user_id'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">773192</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[5]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<th>1899</th>
<td>773192</td>
<td>2017-01-09 05:37:58.781806</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
</tr>
<tr>
<th>2893</th>
<td>773192</td>
<td>2017-01-14 02:55:59.590927</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>d.</strong> Remove <strong>one</strong> of the rows with a duplicate <strong>user_id</strong>, from the <strong>df2</strong> dataframe.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [6]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Remove one of the rows with a duplicate user_id..</span>
<span class="c1"># Hint: The dataframe.drop_duplicates() may not work in this case because the rows with duplicate user_id are not entirely identical. </span>
<span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">1899</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Check again if the row with a duplicate user_id is deleted or not</span>
<span class="n">df2</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s1">'user_id'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">773192</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[6]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<th>2893</th>
<td>773192</td>
<td>2017-01-14 02:55:59.590927</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="ToDo-1.4">ToDo 1.4<a class="anchor-link" href="#ToDo-1.4">¶</a></h3><p>Use <strong>df2</strong> in the cells below to answer the quiz questions related to <strong>Quiz 4</strong> in the classroom.</p>
<p><strong>a.</strong> What is the probability of an individual converting regardless of the page they receive?<br/><br/></p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [7]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span> <span class="c1">#converted users / total users</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[7]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11959708724499628</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>b.</strong> Given that an individual was in the <code>control</code> group, what is the probability they converted?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [8]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#method 1: get all stats using groupby</span>
<span class="n">df2</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">'group'</span><span class="p">])[</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[8]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>group      converted
control    0            0.879614
           1            0.120386
treatment  0            0.881192
           1            0.118808
Name: proportion, dtype: float64</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [9]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#method 2: get specific stat using brackets</span>
<span class="n">ctrl_conversion</span> <span class="o">=</span> <span class="p">(</span><span class="n">df2</span><span class="p">[(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)][</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">/</span>
<span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">][</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
<span class="n">ctrl_conversion</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[9]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.1203863045004612</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>c.</strong> Given that an individual was in the <code>treatment</code> group, what is the probability they converted?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [10]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">treatment_conversion</span> <span class="o">=</span> <span class="p">(</span><span class="n">df2</span><span class="p">[(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)][</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">/</span>
<span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">][</span><span class="s1">'user_id'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">())</span>
<span class="n">treatment_conversion</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[10]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11880806551510564</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>The probabilities you've computed in the points (b). and (c). above can also be treated as conversion rate. 
Calculate the actual difference  (<code>obs_diff</code>) between the conversion rates for the two groups. You will need that later.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [11]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Calculate the actual difference (obs_diff) between the conversion rates for the two groups.</span>
<span class="n">obs_diff</span> <span class="o">=</span> <span class="n">treatment_conversion</span> <span class="o">-</span> <span class="n">ctrl_conversion</span>
<span class="n">obs_diff</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[11]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>-0.0015782389853555567</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>d.</strong> What is the probability that an individual received the new page?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [12]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[12]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.5000619442226688</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>e.</strong> Consider your results from parts (a) through (d) above, and explain below whether the new <code>treatment</code> group users lead to more conversions.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Based on the data so far, there is not support for the hypothesis that being in the treatment group will lead to more conversions. The control group is 12.04% likely to convert, while the treatment group is 11.89% likely to convert, so the control group is more likely to convert than the treatment group. The difference is so small -- 0.16% -- that it's unlikely to be meaningful.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><a id="ab_test"></a></p>
<h2 id="Part-II---A/B-Test">Part II - A/B Test<a class="anchor-link" href="#Part-II---A/B-Test">¶</a></h2><h3 id="ToDo-2.1">ToDo 2.1<a class="anchor-link" href="#ToDo-2.1">¶</a></h3><p>If you want to assume that the old page is better unless the new page proves to be definitely better at a Type I error rate of 5%, what should be your null and alternative hypotheses (<strong>$H_0$</strong> and <strong>$H_1$</strong>)?</p>
<p>You can state your hypothesis in terms of words or in terms of <strong>$p_{old}$</strong> and <strong>$p_{new}$</strong>, which are the "converted" probability (or rate) for the old and new pages respectively.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>𝐻0: 𝑝𝑜𝑙𝑑 &gt;= 𝑝𝑛𝑒𝑤 <br/>
𝐻1: 𝑝𝑜𝑙𝑑 &lt; 𝑝𝑛𝑒𝑤</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<h3 id="ToDo-2.2---Null-Hypothesis-$H_0$-Testing">ToDo 2.2 - Null Hypothesis $H_0$ Testing<a class="anchor-link" href="#ToDo-2.2---Null-Hypothesis-$H_0$-Testing">¶</a></h3><p>Under the null hypothesis $H_0$, assume that $p_{new}$ and $p_{old}$ are equal. Furthermore, assume that $p_{new}$ and $p_{old}$ both are equal to the <strong>converted</strong> success rate in the <code>df2</code> data regardless of the page. So, our assumption is: <br/><br/></p>
<center>
$p_{new}$ = $p_{old}$ = $p_{population}$
</center>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>a.</strong> What is the <strong>conversion rate</strong> for $p_{new}$ under the null hypothesis?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [13]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">pnew</span> <span class="o">=</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span> <span class="c1">#same as population conversion rate</span>
<span class="n">pnew</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[13]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11959708724499628</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>b.</strong> What is the <strong>conversion rate</strong> for $p_{old}$ under the null hypothesis?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [14]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">pold</span> <span class="o">=</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">)</span> <span class="c1">#same as population conversion rate</span>
<span class="n">pold</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[14]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11959708724499628</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>c.</strong> What is $n_{new}$, the number of individuals in the treatment group? <br/><br/></p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [15]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">nnew</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">])</span>
<span class="n">nnew</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[15]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>145310</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>d.</strong> What is $n_{old}$, the number of individuals in the control group?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [16]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">nold</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">])</span>
<span class="n">nold</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[16]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>145274</pre>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [17]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#pnew - pold:</span>
<span class="n">pdiff</span> <span class="o">=</span> <span class="n">pnew</span> <span class="o">-</span> <span class="n">pold</span>
<span class="n">pdiff</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[17]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>e. Simulate Sample for the <code>treatment</code> Group</strong><br/> 
Simulate $n_{new}$ transactions with a conversion rate of $p_{new}$ under the null hypothesis.  <br/><br/></p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [18]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Simulate a Sample for the treatment Group</span>
<span class="c1">#Take a random user in the treatment group nnew times</span>
<span class="n">new_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">nnew</span><span class="p">)</span>
<span class="n">new_page_converted</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[18]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11968894088500448</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>f. Simulate Sample for the <code>control</code> Group</strong> <br/>
Simulate $n_{old}$ transactions with a conversion rate of $p_{old}$ under the null hypothesis. <br/> Store these $n_{old}$ 1's and 0's in the <code>old_page_converted</code> numpy array.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [19]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Simulate a Sample for the control Group</span>
<span class="c1">#Take a random user in the control group nold times</span>
<span class="n">old_page_converted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">nold</span><span class="p">)</span>
<span class="n">old_page_converted</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[19]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.11991133995071382</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>g.</strong> Find the difference in the "converted" probability $(p{'}_{new}$ - $p{'}_{old})$ for your simulated samples from the parts (e) and (f) above.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [20]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">sample_diffs</span> <span class="o">=</span> <span class="n">new_page_converted</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">old_page_converted</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">sample_diffs</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[20]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>-0.00022239906570933887</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>h. Sampling distribution</strong> <br/>
Re-create <code>new_page_converted</code> and <code>old_page_converted</code> and find the $(p{'}_{new}$ - $p{'}_{old})$ value 10,000 times using the same simulation process you used in parts (a) through (g) above.</p>
<br/>
Store all  $(p{'}_{new}$ - $p{'}_{old})$  values in a NumPy array called `p_diffs`.

</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [21]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Sampling distribution </span>
<span class="n">p_diffs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">new_page_converted</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span>
<span class="n">old_page_converted</span> <span class="o">=</span> <span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">][</span><span class="s1">'converted'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
    <span class="n">new_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">new_page_converted</span><span class="p">,</span> <span class="n">nnew</span><span class="p">)</span>
    <span class="n">old_sample</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">old_page_converted</span><span class="p">,</span> <span class="n">nold</span><span class="p">)</span>
    <span class="n">p_diffs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_sample</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">old_sample</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="n">p_diffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">p_diffs</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>i. Histogram</strong><br/> 
Plot a histogram of the <strong>p_diffs</strong>.  Does this plot look like what you expected?  Use the matching problem in the classroom to assure you fully understand what was computed here.<br/><br/></p>
<p>Also, use <code>plt.axvline()</code> method to mark the actual difference observed  in the <code>df2</code> data (recall <code>obs_diff</code>), in the chart.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [22]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">p_diffs_centered</span> <span class="o">=</span> <span class="n">p_diffs</span> <span class="o">-</span> <span class="n">p_diffs</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="c1">#Center the sample distribution on null (0)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">p_diffs_centered</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">obs_diff</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'Difference in Sample Means'</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Frequency'</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Website Conversion Sample Means under H0'</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedImage jp-OutputArea-output" tabindex="0">
<img alt="No description has been provided for this image" class="" src="data:image/png;base64,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t0S9evWEQqHQuzy6PG0sy9mzZ0VISIho1KiRMDc3F9bW1qJt27bigw8+EOnp6VK9wsJCsWDBAuHp6SnMzMyEk5OTePPNN8XNmzd11vf4lTSPK+2qk8zMTGFpaSkAiDVr1pTYxj///FNMmTJFuLu7CzMzM+Hg4CB8fHzEe++9J11tVHw11qJFi/SWX7x4sejcubNwcnIS5ubmolGjRiI0NFRcu3ZNqlPSpedCCPHf//5XtGrVSpibmwuVSiX69++vdzVRSEiIsLa21ttuSVfUPCkjI0PMmzdPvPrqq6JBgwbSe9CmTRsxb9488eDBA5368+fPF40bNxZKpVI0b95crFmzptQrd568RLy0fVT8ufv222+lsvJ+rou39fjVWEKU7z0rTWmfoceVdDVWcR/HjBkjGjRoIMzMzES9evVE586dxbx583TqVWY/CiGEm5ubCAkJEUIIkZeXJ8aPHy9atWol7OzshKWlpWjatKmYPXt2id8rT9q1a5do06aNsLS0FC+88IJYvny5wW0ptn37dulz26hRIzF//vxSP48V+Z4rr+JtPX5bisc9eel5sY0bN0rtVqvVYsqUKSI7O7vc231eKYQo4cEqRERUJn9/f9y9exfnz583dlOI6Cl4NRYRERHJGsMOERERyRoPYxEREZGscWSHiIiIZI1hh4iIiGSNYYeIiIhkjTcVBFBUVITbt2/D1taWD1MjIiKqJYQQyM7OhkajQZ06pY/fMOzg0XN8XF1djd0MIiIiMsDNmzfLvOs4ww4AW1tbAI92lp2dnZFbQ2SA+/eB4odH3r4NWFsbtz1ERNUgKysLrq6u0u94aRh28H9PqrWzs2PYodrpsaegw86OYYeInitPOwWFJygTERGRrDHsEBERkawx7BAREZGsMewQERGRrDHsEBERkawx7BAREZGsMewQERGRrDHsEBERkawx7BAREZGsMewQERGRrDHsEBERkawZNew0btwYCoVC7zVx4kQAjx7dPmfOHGg0GlhaWsLf3x9JSUk669BqtZg8eTKcnJxgbW2Nfv36ISUlxRjdISIiohrIqGEnISEBqamp0isuLg4AMHDgQADAwoULsWTJEixfvhwJCQlQq9Xo0aMHsrOzpXWEh4dj69atiI2NxY8//oicnBwEBwejsLDQKH0iIiKimkUhhBDGbkSx8PBw7Ny5E5cvXwYAaDQa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+vWwtLSEm5tbhdZDVNUYdoiqwZ49e+Di4oLGjRujV69eOHToED799FN8//33eocVKsrKygpHjhxBo0aNMGDAADRv3hxjxoxBbm5umSM2hi73pBUrVuCNN95AWFgYmjVrhrFjx0qjJxqNBseOHUNhYSECAwPh5eWFqVOnQqVSoU6dZ/f10717d5w8eRIDBw6Ep6cn/vGPf8DCwgIHDhyQzlH58ssvkZGRgbZt22LEiBGYMmVKpe/vU+zFF1/EgAEDEBQUhJ49e8LLywtffPFFqfU/+ugjfPDBB4iKikLz5s0RGBiIHTt2VOgQZ926dfUOVT4uOjoaI0eOREREBJo2bYp+/frhp59+gqurKwDg/fffR7t27RAYGAh/f3+o1eoK3+W5bt26WLNmDbp06YJWrVrhwIED2LFjh8H3gyKqKgohhDB2I4iI5GLOnDnYtm0bzp49a+ymENH/x5EdIiIikjWGHSIiIpI1HsYiIiIiWePIDhEREckaww4RERHJGsMOERERyRrDDhEREckaww4RERHJGsMOERERyRrDDhEREckaww4RERHJGsMOERERydr/A4Hr/niE3xQpAAAAAElFTkSuQmCC"/>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>j.</strong> What proportion of the <strong>p_diffs</strong> are greater than the actual difference observed in the <code>df2</code> data?</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [23]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#proportion = number of p_diffs greater than obs_diff, divided by total amount of p_diffs (which is 10,000)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">p_diffs_centered</span><span class="p">[</span><span class="n">p_diffs_centered</span> <span class="o">&gt;</span> <span class="n">obs_diff</span><span class="p">])</span><span class="o">/</span><span class="mi">10000</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[23]:</div>
<div class="jp-RenderedText jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/plain" tabindex="0">
<pre>0.8994</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>k.</strong> Please explain in words what you have just computed in part <strong>j</strong> above.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>The value in part j (0.9035) is the p-value, or the probability of seeing a difference in conversion rates that's this pronounced if the null hypothesis is true. If we use an alpha, or Type 1 error rate, of 0.05, then we fail to reject the null hypothesis because the p-value (.9079) is greater than our acceptable error rate (.05). <br/>
In practical terms, there's a 90% chance of seeing a different in sample means of -.00195 if the new web page and the old web page have the same conversion rate. This means we don't have substantial evidence here to convince us that the new web page is any better than the old one.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>l. Using Built-in Methods for Hypothesis Testing</strong><br/>
We could also use a built-in to achieve similar results.  Though using the built-in might be easier to code, the above portions are a walkthrough of the ideas that are critical to correctly thinking about statistical significance.</p>
<p>Fill in the statements below to calculate the:</p>
<ul>
<li><code>convert_old</code>: number of conversions with the old_page</li>
<li><code>convert_new</code>: number of conversions with the new_page</li>
<li><code>n_old</code>: number of individuals who were shown the old_page</li>
<li><code>n_new</code>: number of individuals who were shown the new_page</li>
</ul>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [24]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="c1"># number of conversions with the old_page</span>
<span class="n">convert_old</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)][</span><span class="s1">'user_id'</span><span class="p">])</span>

<span class="c1"># number of conversions with the new_page</span>
<span class="n">convert_new</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s2">"converted"</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)][</span><span class="s1">'user_id'</span><span class="p">])</span>

<span class="c1"># number of individuals who were shown the old_page</span>
<span class="n">n_old</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'control'</span><span class="p">][</span><span class="s1">'user_id'</span><span class="p">])</span>

<span class="c1"># number of individuals who received new_page</span>
<span class="n">n_new</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="n">df2</span><span class="p">[</span><span class="s2">"group"</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'treatment'</span><span class="p">][</span><span class="s1">'user_id'</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [25]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="c1"># Complete the sm.stats.proportions_ztest() method arguments</span>
<span class="n">z_score</span><span class="p">,</span> <span class="n">p_value</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">proportions_ztest</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="p">[</span><span class="n">convert_new</span><span class="p">,</span> <span class="n">convert_old</span><span class="p">],</span> <span class="n">nobs</span><span class="o">=</span><span class="p">[</span><span class="n">n_new</span><span class="p">,</span> <span class="n">n_old</span><span class="p">],</span> <span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alternative</span><span class="o">=</span><span class="s1">'larger'</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z_score</span><span class="p">,</span> <span class="n">p_value</span><span class="p">)</span>
<span class="c1">#arguments:</span>
<span class="c1">#count is an array of the number of conversions in our two samples</span>
<span class="c1">#nobs is an array of the number of tests in our two samples</span>
<span class="c1">#values is the hypothetical difference in the mean of our samples. Assuming H0 is true, the difference is 0.</span>
<span class="c1">#alternative is larger because H1 is that p_new &gt; p_old</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>-1.3109241984234394 0.9050583127590245
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>n.</strong> What do the z-score and p-value you computed in the previous question mean for the conversion rates of the old and new pages?  Do they agree with the findings in parts <strong>j.</strong> and <strong>k.</strong>?<br/><br/></p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>The z-score is how many standard deviations away from the mean our sample is. A z-score of -1.31 means our sample is a bit over one standard deviation away from the mean, which isn't especially far. The p-value is .9051, meaning there's a 90.5% chance we'd see a difference in means like this in our data if the null hypothesis is true. This is consistent with what I found in parts j and k. The p-value differs by .0044 from the one we found in those prior sections, but that's not enough to lead to a different conclusion.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><a id="regression"></a></p>
<h3 id="Part-III---A-regression-approach">Part III - A regression approach<a class="anchor-link" href="#Part-III---A-regression-approach">¶</a></h3><h3 id="ToDo-3.1">ToDo 3.1<a class="anchor-link" href="#ToDo-3.1">¶</a></h3><p>In this final part, you will see that the result you achieved in the A/B test in Part II above can also be achieved by performing regression.<br/><br/></p>
<p><strong>a.</strong> Since each row in the <code>df2</code> data is either a conversion or no conversion, what type of regression should you be performing in this case?</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Logistic regression!</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>b.</strong> The goal is to use <strong>statsmodels</strong> library to fit the regression model you specified in part <strong>a.</strong> above to see if there is a significant difference in conversion based on the page-type a customer receives. However, you first need to create the following two columns in the <code>df2</code> dataframe:</p>
<ol>
<li><code>intercept</code> - It should be <code>1</code> in the entire column.</li>
<li><code>ab_page</code> - It's a dummy variable column, having a value <code>1</code> when an individual receives the <strong>treatment</strong>, otherwise <code>0</code>.</li>
</ol>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [26]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[26]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>851104</td>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>804228</td>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [27]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df2</span><span class="p">[</span><span class="s1">'intercept'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">df2</span><span class="p">[[</span><span class="s1">'ab_page'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'group'</span><span class="p">],</span> <span class="n">drop_first</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span> <span class="c1">#get_dummies requires 2 new columns; one will be dropped</span>
<span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[27]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
<th>intercept</th>
<th>ab_page</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>851104</td>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>804228</td>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<th>2</th>
<td>661590</td>
<td>2017-01-11 16:55:06.154213</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>3</th>
<td>853541</td>
<td>2017-01-08 18:28:03.143765</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<th>4</th>
<td>864975</td>
<td>2017-01-21 01:52:26.210827</td>
<td>control</td>
<td>old_page</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>c.</strong> Use <strong>statsmodels</strong> to instantiate your regression model on the two columns you created in part (b). above, then fit the model to predict whether or not an individual converts.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [28]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">logit_mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">df2</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">df2</span><span class="p">[[</span><span class="s1">'intercept'</span><span class="p">,</span> <span class="s1">'ab_page'</span><span class="p">]])</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">logit_mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Optimization terminated successfully.
         Current function value: 0.366118
         Iterations 6
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>d.</strong> Provide the summary of your model below, and use it as necessary to answer the following questions.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [29]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">summary2</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[29]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<table class="simpletable">
<tr>
<td>Model:</td> <td>Logit</td> <td>Method:</td> <td>MLE</td>
</tr>
<tr>
<td>Dependent Variable:</td> <td>converted</td> <td>Pseudo R-squared:</td> <td>0.000</td>
</tr>
<tr>
<td>Date:</td> <td>2024-12-03 18:02</td> <td>AIC:</td> <td>212780.3502</td>
</tr>
<tr>
<td>No. Observations:</td> <td>290584</td> <td>BIC:</td> <td>212801.5095</td>
</tr>
<tr>
<td>Df Model:</td> <td>1</td> <td>Log-Likelihood:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Df Residuals:</td> <td>290582</td> <td>LL-Null:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Converged:</td> <td>1.0000</td> <td>LLR p-value:</td> <td>0.18988</td>
</tr>
<tr>
<td>No. Iterations:</td> <td>6.0000</td> <td>Scale:</td> <td>1.0000</td>
</tr>
</table>
<table class="simpletable">
<tr>
<td></td> <th>Coef.</th> <th>Std.Err.</th> <th>z</th> <th>P&gt;|z|</th> <th>[0.025</th> <th>0.975]</th>
</tr>
<tr>
<th>intercept</th> <td>-1.9888</td> <td>0.0081</td> <td>-246.6690</td> <td>0.0000</td> <td>-2.0046</td> <td>-1.9730</td>
</tr>
<tr>
<th>ab_page</th> <td>-0.0150</td> <td>0.0114</td> <td>-1.3109</td> <td>0.1899</td> <td>-0.0374</td> <td>0.0074</td>
</tr>
</table><br>
</br></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>e.</strong> What is the p-value associated with <strong>ab_page</strong>? Why does it differ from the value you found in <strong>Part II</strong>?<br/><br/></p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>The ab_page p-value is ~0.1899.<br/>
Why is it different this time? Well, The alternative hypothesis in Part II was one-sided, so the p-value in that test was just the probability of the null hypothesis being true given the observed conversion rate for the treatment group. In the case of logistic regression, the hypotheses are two-sided, so we're measuring the probability of the null hypothesis being true if the observed conversion rate for the treatment group is either more or less than the conversion rate for the control group. In other words, in this logistic regression model, the 2-sided hypothesis leads to double the p-value.
In both cases, since the p-value is greater than the acceptable error rate of 0.05, we have failed to reject the null hypothesis.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>f.</strong> Now, you are considering other things that might influence whether or not an individual converts.  Discuss why it is a good idea to consider other factors to add into your regression model.  Are there any disadvantages to adding additional terms into your regression model?</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>The big advantage of adding other factors into the regression model is that it can make the model more accurate. For example, if conversion is affected by the time of day a website is accessed, it might be nice to know that, and including it in our model will help us better predict which subset of users is more likely to convert. </p> Some drawbacks of adding more factors are increasing the model's complexity and obscuring how much other factors affect the dependent variable. One example from our coursework is when we used both the size of a house and the number of bathrooms to predict a house's value. Because those independent variables were actually dependent on each other, including both of them in our model made it difficult to interpret the results of our model, and they made each other seem less impactful on the value of the house.

</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>g. Adding countries</strong><br/> 
Now along with testing if the conversion rate changes for different pages, also add an effect based on which country a user lives in.</p>
<ol>
<li><p>You will need to read in the <strong>countries.csv</strong> dataset and merge together your <code>df2</code> datasets on the appropriate rows. You call the resulting dataframe <code>df_merged</code>. <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.join.html">Here</a> are the docs for joining tables.</p>
</li>
<li><p>Does it appear that country had an impact on conversion?  To answer this question, consider the three unique values, <code>['UK', 'US', 'CA']</code>, in the <code>country</code> column. Create dummy variables for these country columns.</p>
</li>
</ol>
<p>Provide the statistical output as well as a written response to answer this question.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [31]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Read the countries.csv</span>
<span class="n">countries</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'countries.csv'</span><span class="p">)</span>
<span class="n">countries</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[31]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>country</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>834778</td>
<td>UK</td>
</tr>
<tr>
<th>1</th>
<td>928468</td>
<td>US</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [32]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#remind myself of what's in df2</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[32]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>user_id</th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
<th>intercept</th>
<th>ab_page</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>851104</td>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<th>1</th>
<td>804228</td>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [33]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Join country with df2 on the user_id column</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">countries</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'user_id'</span><span class="p">))</span>
<span class="n">df_merged</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[33]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
<th>intercept</th>
<th>ab_page</th>
<th>country</th>
</tr>
<tr>
<th>user_id</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>851104</th>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
</tr>
<tr>
<th>804228</th>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [36]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Create the necessary dummy variables</span>
<span class="n">df_merged</span><span class="p">[[</span><span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'UK'</span><span class="p">,</span> <span class="s1">'US'</span><span class="p">]]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">'country'</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">df_merged</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1">#make sure dummies were added to the right columns</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[36]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>timestamp</th>
<th>group</th>
<th>landing_page</th>
<th>converted</th>
<th>intercept</th>
<th>ab_page</th>
<th>country</th>
<th>CA</th>
<th>UK</th>
<th>US</th>
</tr>
<tr>
<th>user_id</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>851104</th>
<td>2017-01-21 22:11:48.556739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>804228</th>
<td>2017-01-12 08:01:45.159739</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>661590</th>
<td>2017-01-11 16:55:06.154213</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>853541</th>
<td>2017-01-08 18:28:03.143765</td>
<td>treatment</td>
<td>new_page</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>864975</th>
<td>2017-01-21 01:52:26.210827</td>
<td>control</td>
<td>old_page</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>936923</th>
<td>2017-01-10 15:20:49.083499</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>679687</th>
<td>2017-01-19 03:26:46.940749</td>
<td>treatment</td>
<td>new_page</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>CA</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<th>719014</th>
<td>2017-01-17 01:48:29.539573</td>
<td>control</td>
<td>old_page</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>US</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>817355</th>
<td>2017-01-04 17:58:08.979471</td>
<td>treatment</td>
<td>new_page</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>UK</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<th>839785</th>
<td>2017-01-15 18:11:06.610965</td>
<td>treatment</td>
<td>new_page</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>CA</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [37]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Fitting a model with *just* the country factors</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span> <span class="c1">#used during testing</span>
<span class="n">logit_mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">df_merged</span><span class="p">[[</span><span class="s1">'intercept'</span><span class="p">,</span> <span class="s1">'ab_page'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'UK'</span><span class="p">]])</span>
<span class="n">results2</span> <span class="o">=</span> <span class="n">logit_mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results2</span><span class="o">.</span><span class="n">summary2</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Optimization terminated successfully.
         Current function value: 0.366113
         Iterations 6
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[37]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<table class="simpletable">
<tr>
<td>Model:</td> <td>Logit</td> <td>Method:</td> <td>MLE</td>
</tr>
<tr>
<td>Dependent Variable:</td> <td>converted</td> <td>Pseudo R-squared:</td> <td>0.000</td>
</tr>
<tr>
<td>Date:</td> <td>2024-12-03 18:04</td> <td>AIC:</td> <td>212781.1253</td>
</tr>
<tr>
<td>No. Observations:</td> <td>290584</td> <td>BIC:</td> <td>212823.4439</td>
</tr>
<tr>
<td>Df Model:</td> <td>3</td> <td>Log-Likelihood:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Df Residuals:</td> <td>290580</td> <td>LL-Null:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Converged:</td> <td>1.0000</td> <td>LLR p-value:</td> <td>0.17599</td>
</tr>
<tr>
<td>No. Iterations:</td> <td>6.0000</td> <td>Scale:</td> <td>1.0000</td>
</tr>
</table>
<table class="simpletable">
<tr>
<td></td> <th>Coef.</th> <th>Std.Err.</th> <th>z</th> <th>P&gt;|z|</th> <th>[0.025</th> <th>0.975]</th>
</tr>
<tr>
<th>intercept</th> <td>-1.9893</td> <td>0.0089</td> <td>-223.7628</td> <td>0.0000</td> <td>-2.0067</td> <td>-1.9718</td>
</tr>
<tr>
<th>ab_page</th> <td>-0.0149</td> <td>0.0114</td> <td>-1.3069</td> <td>0.1912</td> <td>-0.0374</td> <td>0.0075</td>
</tr>
<tr>
<th>CA</th> <td>-0.0408</td> <td>0.0269</td> <td>-1.5161</td> <td>0.1295</td> <td>-0.0934</td> <td>0.0119</td>
</tr>
<tr>
<th>UK</th> <td>0.0099</td> <td>0.0133</td> <td>0.7433</td> <td>0.4573</td> <td>-0.0162</td> <td>0.0359</td>
</tr>
</table><br>
</br></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>According to these results, the users' countries are not statistically significant factors in the conversion rate. Both countries have p-values greater than 0.05, so we can't consider either of these factors to be statistically significant. If we found a factor that was significant, we could interpret its effect on conversion by taking the exponent of its coefficient. For example, if residence in Canada were found to be a significant factor, we would take the exponent of its coefficient (or in this case, the inverse of that exponent) as follows:</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [38]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">'CA Coefficient: '</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">0.0408</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">'UK Coefficient: '</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.0099</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>CA Coefficient:  1.0416437559600236
UK Coefficient:  1.0099491671175422
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>We then interpret the result as follows: if a user is in Canada, he is 1.04 times less likely (because the coefficient is negative) to convert than he would be if he were in the U.S., holding all other factors constant. Being in the UK has even less of an effect.</p>
<p>This is just to display an understanding of interpreting coefficients in logistic regression. In this case, a user's country isn't a significant factor in whether he converts, so interpreting those coefficients is not very meaningful.</p>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p><strong>h. Fit your model and obtain the results</strong><br/> 
Though you have now looked at the individual factors of country and page on conversion, we would now like to look at an interaction between page and country to see if are there significant effects on conversion.  <strong>Create the necessary additional columns, and fit the new model.</strong></p>
<p>Provide the summary results (statistical output), and your conclusions (written response) based on the results.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [39]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1">#First, create interaction series:</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s1">'CA_inter'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s1">'CA'</span><span class="p">]</span><span class="o">*</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">'ab_page'</span><span class="p">]</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s1">'UK_inter'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s1">'UK'</span><span class="p">]</span><span class="o">*</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">'ab_page'</span><span class="p">]</span>
<span class="c1">#I didn't create an interaction series between the U.S. and ab_page because that will be the intercept</span>
</pre></div>
</div>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [40]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span><span class="c1"># Fit your model, and summarize the results</span>
<span class="c1">#import statsmodels.api as sm #used during testing</span>
<span class="n">logit_mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">'converted'</span><span class="p">],</span> <span class="n">df_merged</span><span class="p">[[</span><span class="s1">'intercept'</span><span class="p">,</span> <span class="s1">'ab_page'</span><span class="p">,</span> <span class="s1">'CA'</span><span class="p">,</span> <span class="s1">'UK'</span><span class="p">,</span> <span class="s1">'CA_inter'</span><span class="p">,</span> <span class="s1">'UK_inter'</span><span class="p">]])</span>
<span class="n">results3</span> <span class="o">=</span> <span class="n">logit_mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">results3</span><span class="o">.</span><span class="n">summary2</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell-outputWrapper">
<div class="jp-Collapser jp-OutputCollapser jp-Cell-outputCollapser">
</div>
<div class="jp-OutputArea jp-Cell-outputArea">
<div class="jp-OutputArea-child">
<div class="jp-OutputPrompt jp-OutputArea-prompt"></div>
<div class="jp-RenderedText jp-OutputArea-output" data-mime-type="text/plain" tabindex="0">
<pre>Optimization terminated successfully.
         Current function value: 0.366109
         Iterations 6
</pre>
</div>
</div>
<div class="jp-OutputArea-child jp-OutputArea-executeResult">
<div class="jp-OutputPrompt jp-OutputArea-prompt">Out[40]:</div>
<div class="jp-RenderedHTMLCommon jp-RenderedHTML jp-OutputArea-output jp-OutputArea-executeResult" data-mime-type="text/html" tabindex="0">
<table class="simpletable">
<tr>
<td>Model:</td> <td>Logit</td> <td>Method:</td> <td>MLE</td>
</tr>
<tr>
<td>Dependent Variable:</td> <td>converted</td> <td>Pseudo R-squared:</td> <td>0.000</td>
</tr>
<tr>
<td>Date:</td> <td>2024-12-03 18:04</td> <td>AIC:</td> <td>212782.6602</td>
</tr>
<tr>
<td>No. Observations:</td> <td>290584</td> <td>BIC:</td> <td>212846.1381</td>
</tr>
<tr>
<td>Df Model:</td> <td>5</td> <td>Log-Likelihood:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Df Residuals:</td> <td>290578</td> <td>LL-Null:</td> <td>-1.0639e+05</td>
</tr>
<tr>
<td>Converged:</td> <td>1.0000</td> <td>LLR p-value:</td> <td>0.19199</td>
</tr>
<tr>
<td>No. Iterations:</td> <td>6.0000</td> <td>Scale:</td> <td>1.0000</td>
</tr>
</table>
<table class="simpletable">
<tr>
<td></td> <th>Coef.</th> <th>Std.Err.</th> <th>z</th> <th>P&gt;|z|</th> <th>[0.025</th> <th>0.975]</th>
</tr>
<tr>
<th>intercept</th> <td>-1.9865</td> <td>0.0096</td> <td>-206.3440</td> <td>0.0000</td> <td>-2.0053</td> <td>-1.9676</td>
</tr>
<tr>
<th>ab_page</th> <td>-0.0206</td> <td>0.0137</td> <td>-1.5052</td> <td>0.1323</td> <td>-0.0473</td> <td>0.0062</td>
</tr>
<tr>
<th>CA</th> <td>-0.0175</td> <td>0.0377</td> <td>-0.4652</td> <td>0.6418</td> <td>-0.0914</td> <td>0.0563</td>
</tr>
<tr>
<th>UK</th> <td>-0.0057</td> <td>0.0188</td> <td>-0.3057</td> <td>0.7598</td> <td>-0.0426</td> <td>0.0311</td>
</tr>
<tr>
<th>CA_inter</th> <td>-0.0469</td> <td>0.0538</td> <td>-0.8718</td> <td>0.3833</td> <td>-0.1523</td> <td>0.0585</td>
</tr>
<tr>
<th>UK_inter</th> <td>0.0314</td> <td>0.0266</td> <td>1.1807</td> <td>0.2377</td> <td>-0.0207</td> <td>0.0835</td>
</tr>
</table><br>
</br></div>
</div>
</div>
</div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt jp-InputArea-prompt">
</div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
<p>Again, neither of the new factors we tested are statistically significant. Each factor has a p-value greater than 0.05, so we can't consider interactions between country and treatment page to be statistically signifcant. If they were significant, interpreting their coefficients would be less straightforward than with terms that aren't interactive.</p>
<p>Finally, the practical conclusion of these tests is to keep the website the same. We have failed to prove that the current website performs worse than the new one. We have also failed to prove that a user's country of origin is a factor in conversion, so we must also conclude that it isn't worth considering at the moment.</p>
</div>
</div>
</div>
</div><div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
<div class="jp-Cell-inputWrapper" tabindex="0">
<div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
</div>
<div class="jp-InputArea jp-Cell-inputArea">
<div class="jp-InputPrompt jp-InputArea-prompt">In [ ]:</div>
<div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
<div class="cm-editor cm-s-jupyter">
<div class="highlight hl-ipython3"><pre><span></span> 
</pre></div>
</div>
</div>
</div>
</div>
</div>
</main>
</body>
</html>
